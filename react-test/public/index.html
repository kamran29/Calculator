
<html lang="en">
<head>
<meta charset="utf-8">


<title>A Simple Calculator</title>
    <script src="libraries/p5.dom.js" type="text/javascript"></script>

<link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">
<style>
    * {
        font-family: 'Inconsolata', monospace;
        color: #555;
    }
    body {
        background-color: #3fb399;
    }
    .container {
        width: 320px;
        background-color: blue;
        margin: 120px auto;
    }
    table {
        width: 100%;
        border-color: black;
    }
    td {
        width: 25%;
    }
    button {
        width: 100%;
        height: 70px;
        font-size: 24px;
        background-color: rgb(255,255,255,.75);
        border: none;
    }
    #inputLabel {
        height: 120px;
        font-size: 40px;
        vertical-align: bottom;
        text-align: right;
        padding-right: 16px;
        background-color: white;
    }


            
</style>
</head>
<body>

<table style="width:100%">
  <tr>
    <th>Calculator Log</th>

  </tr>
  <tr>
    <td id="head10">
        
    </td>

  </tr>
  <tr>
    <td id="head9"></td>

  </tr>
  <tr>
    <td id="head8"></td>

  </tr>
    <tr>
    
    <td id="head7"></td>

  </tr>
    <tr>
    <td id="head6"></td>

  </tr>
    <tr>
    <td id="head5"></td>

  </tr>
  
    <tr>
    <td id="head4"></td>

  </tr>
    <tr>
    <td id="head3"></td>

  </tr>
    <tr>
    <td id="head2"></td>

  </tr>
    <tr>
    <td id="head1"></td>

  </tr>
</table>

<div class="container">
       

<p>
    <ol  id="scorelist">

    </ol>

</p>
    <table border="1" cellspacing="0">
        <tr>
            <td colspan="4" id="inputLabel">0</td>
        </tr>
        <tr>
            <td colspan="3"><button onclick="pushBtn(this);">AC</button></td>
            <td><button onclick="pushBtn(this);">/</button></td>
        </tr>
        <tr>
            <td><button onclick="pushBtn(this);">7</button></td>
            <td><button onclick="pushBtn(this);">8</button></td>
            <td><button onclick="pushBtn(this);">9</button></td>
            <td><button onclick="pushBtn(this);">*</button></td>
        </tr>
        <tr>
            <td><button onclick="pushBtn(this);">4</button></td>
            <td><button onclick="pushBtn(this);">5</button></td>
            <td><button onclick="pushBtn(this);">6</button></td>
            <td><button onclick="pushBtn(this);">-</button></td>
        </tr>
        <tr>
            <td><button onclick="pushBtn(this);">1</button></td>
            <td><button onclick="pushBtn(this);">2</button></td>
            <td><button onclick="pushBtn(this);">3</button></td>
            <td><button onclick="pushBtn(this);">+</button></td>
        </tr>
        <tr>
            <td colspan="2"><button onclick="pushBtn(this);">0</button></td>
            <td><button onclick="pushBtn(this);">.</button></td>
            <td><button onclick="pushBtn(this);">=</button></td>
        </tr>
    </table>
</div>
     <script src="https://cdn.jsdelivr.net/npm/p5@1.0.0/lib/p5.js"></script>

<script>
  
    function pushBtn(obj) {
         
        var pushed = obj.innerHTML;
         
        if (pushed == '=') {




var firebaseRef = firebase.database().ref();

//firebaseRef.set("f");
const b = inputLabel.innerHTML;
 const a = eval(inputLabel.innerHTML);

            inputLabel.innerHTML = eval(inputLabel.innerHTML);

firebaseRef.child("test").push().set(b+ "=" + a);
var head1 = document.getElementById("head1");
var head2 = document.getElementById("head2");
var head3 = document.getElementById("head3");
var head4 = document.getElementById("head4");
var head5 = document.getElementById("head5");
var head6 = document.getElementById("head6");
var head7 = document.getElementById("head7");
var head8 = document.getElementById("head8");
var head9 = document.getElementById("head9");
var head10 = document.getElementById("head10");
var f1 =  firebase.database().ref("test");



var x = true
f1.on('value',gotData,ed);

// f1.on('child_added',function(data){
//     var scores = data.val();
// //console.log(keys);
// var k = Object.keys(scores)
// //console.log(k)
//     var a = k[0]
//     var c = k[1]
//     var d = k[2]
//     var e  = k[3]
//     var f = k[4]
//     var g = k[5]
//     var h = k[6]
//     var h = k[7]
//     var i = k[8]
//     var j = k[9]
//     var y = k[10]
//     //console.log(scores[a])
// var b = scores[a]
// head1.innerHTML = scores












// });



// head1.innerHTML = "none"
// head2.innerHTML = "none"
// head3.innerHTML = "none"
// head4.innerHTML = "none"
// head5.innerHTML = "none"
// head6.innerHTML = "none"
// head7.innerHTML = "none"
// head8.innerHTML = "none"
// head9.innerHTML = "none"
// head10.innerHTML = "none"



     }

         else if (pushed == 'AC') {
            // All Clear
            inputLabel.innerHTML = '0';
             
        } else {
            if (inputLabel.innerHTML == '0') {
                inputLabel.innerHTML = pushed;
                 
            } else {
                inputLabel.innerHTML += pushed;   
            }
        }
    }


    function gotData(data){
//console.log(data.val())
var scores = data.val();
//console.log(keys);
var k = Object.keys(scores)
//console.log(k)
    var a = k[0]
    var c = k[1]
    var d = k[2]
    var e  = k[3]
    var f = k[4]
    var g = k[5]
    var h = k[6]
    var h = k[7]
    var i = k[8]
    var j = k[9]
    var y = k[10]
    //console.log(scores[a])


if (y != null){
// var scores = data.val();
// //console.log(keys);
// var k = Object.keys(scores)
// console.log(k) 

// firebase.database().ref("test").child(a).remove()
// head1.innerHTML = k[0]
head10.innerHTML = scores[y]

var f1 =  firebase.database().ref("test");
f1.remove()
console.log(y) 

}
else{
var b = scores[a]
head1.innerHTML = b
head2.innerHTML = scores[c]
head3.innerHTML = scores[d]
head4.innerHTML = scores[e]
head5.innerHTML = scores[f]
head6.innerHTML = scores[g]
head7.innerHTML = scores[h]
head8.innerHTML = scores[i]
head9.innerHTML = scores[j]

}







}

function ed(err){
console.log(err);
}

</script>



<script src="https://www.gstatic.com/firebasejs/4.7.0/firebase.js">
</script>
<script src="/__/firebase/7.11.0/firebase-database.js"></script>
<script>

    // Initialize Firebase
    var config = {
   apiKey: "AIzaSyDpCnjkoLUnW2G08cdmA0zTrvX6DifPsHk",
    authDomain: "calculator-78b84.firebaseapp.com",
    databaseURL: "https://calculator-78b84.firebaseio.com",
    projectId: "calculator-78b84",
    storageBucket: "calculator-78b84.appspot.com",
    messagingSenderId: "827330332911",
    appId: "1:827330332911:web:f2c7c36e8e6dca9595331a",
    measurementId: "G-VB32XZZKTZ"
    };
    firebase.initializeApp(config);

</script>




</body>
</html>